import{a as j}from"./chunk-Q2TLA53O.js";import{a as D}from"./chunk-VSYLPDL5.js";import"./chunk-OQEVNF42.js";import{a as S,b as p,d as w,e as E,h as I,i as F,j as N,k,m as A,q as z,r as T,s as U}from"./chunk-QOY4JZOK.js";import{i as O,l as f}from"./chunk-O5TP7YJL.js";import{$ as u,Ac as P,Fc as M,Ib as o,Ic as y,Na as l,Oa as h,Sb as b,Ub as x,db as s,fb as d,ja as v,ka as g,pb as t,qb as e,rb as m,xb as C}from"./chunk-L4LCX3VT.js";function R(i,n){i&1&&(t(0,"div",35),o(1," *You need to enter name "),e())}function B(i,n){i&1&&(t(0,"div",35),o(1," *You need to write at least 10 characters "),e())}function L(i,n){i&1&&(t(0,"div",35),o(1," *You need to enter URL "),e())}function G(i,n){i&1&&(t(0,"div",35),o(1," *You need to enter shop name "),e())}function H(i,n){i&1&&(t(0,"div",35),o(1," *You need to enter at least one color "),e())}function X(i,n){i&1&&(t(0,"div",35),o(1," *You need to enter at least one size "),e())}function $(i,n){i&1&&(t(0,"div",35),o(1," *Price must only contain numbers "),e())}function J(i,n){i&1&&(t(0,"div",35),o(1," *Discount can only be from 0 to 1 "),e())}var Y=(()=>{let n=class n{constructor(c,a,r){this.fb=c,this.router=a,this.productsFirebaseService=r,this.todayDate=new Date}ngOnInit(){this.newProductForm=this.fb.group({id:[""],imgUrl:["",[p.required]],price:["",[p.required,p.pattern("^[0-9]*$")]],discount:["",[p.required,p.min(0),p.max(1)]],main:[!1],shop:["",[p.required]],name:["",[p.required]],description:["",[p.required,p.minLength(10)]],shipping:[null],discountUntil:[null],isNew:[!0],color:["",[p.required]],size:[[],[p.required]],review:[[]]})}isControlInvalid(c){let a=this.newProductForm.get(c);return a?a.invalid&&(a.dirty||a.touched):!1}setRandomId(){this.newProductForm.get("id")?.setValue(Math.floor(Math.random()*1e6))}onSubmit(){if(this.newProductForm.valid){this.transformStringToArray("color"),this.transformStringToArray("size");let c=this.newProductForm.value;this.productsFirebaseService.upsertProductToFirebase(c),this.router.navigate(["/shop"])}else console.log("Form is invalid")}transformStringToArray(c){let r=(this.newProductForm.get(c)?.value).split(" ");this.newProductForm.get(c)?.setValue(r)}};n.\u0275fac=function(a){return new(a||n)(h(z),h(O),h(D))},n.\u0275cmp=v({type:n,selectors:[["app-add-product"]],decls:69,vars:15,consts:[[1,"container"],[1,"heading"],[1,"heading__text"],["action","",1,"form",3,"ngSubmit","formGroup"],[1,"form__details"],[1,"form__heading"],[1,"form__input"],["class","warning",4,"ngIf"],["for","name",1,"form__label"],["formControlName","name","id","name","placeholder","Argon 18","type","text",1,"form__field"],["for","description",1,"form__label"],["formControlName","description","id","description","placeholder","Enter the description of your product","rows","5","type","text",1,"form__field","form__field_textarea"],["for","img",1,"form__label"],["formControlName","imgUrl","id","img","placeholder","https://cyclingmagazine.ca/wp-content/uploads/2018/03/etap.shadowpsd_2048x.png","type","text",1,"form__field"],["for","shop",1,"form__label"],["formControlName","shop","id","shop","placeholder","Canada Bike","type","text",1,"form__field"],["for","color",1,"form__label"],["formControlName","color","id","color","placeholder","black green blue","type","text",1,"form__field"],["for","size",1,"form__label"],["formControlName","size","id","size","placeholder","S L XL","type","text",1,"form__field"],[1,"form__price"],["for","price",1,"form__label"],["formControlName","price","id","price","placeholder","900","type","number",1,"form__field"],["for","discount",1,"form__label"],["formControlName","discount","id","discount","placeholder","0-1","type","number",1,"form__field"],["for","discountUntil",1,"form__label"],["formControlName","discountUntil","id","discountUntil","type","date",1,"form__field",3,"min"],[1,"form__input","form__input_radio"],[1,"radio-container"],["for","free-shipping",1,"form__label"],["formControlName","shipping","id","free-shipping","type","radio","value","Free shpping",1,"form__field","form__field_radio"],["for","paid-shipping",1,"form__label"],["formControlName","shipping","id","paid-shipping","type","radio",1,"form__field","form__field_radio",3,"value"],[3,"imgUrl"],["type","submit",1,"submit-button",3,"click"],[1,"warning"]],template:function(a,r){if(a&1&&(t(0,"div",0)(1,"div",1)(2,"div",0)(3,"h1",2),o(4,"Create a new product"),e()()(),t(5,"form",3),C("ngSubmit",function(){return r.onSubmit()}),t(6,"div",4)(7,"h2",5),o(8,"Basic Information"),e(),t(9,"div",6),s(10,R,2,0,"div",7),t(11,"label",8),o(12,"Bike Name"),e(),m(13,"input",9),e(),t(14,"div",6),s(15,B,2,0,"div",7),t(16,"label",10),o(17,"Description"),e(),m(18,"textarea",11),e(),t(19,"div",6),s(20,L,2,0,"div",7),t(21,"label",12),o(22,"Image URL"),e(),m(23,"input",13),e(),t(24,"div",6),s(25,G,2,0,"div",7),t(26,"label",14),o(27,"Shop Name"),e(),m(28,"input",15),e(),t(29,"div",6),s(30,H,2,0,"div",7),t(31,"label",16),o(32,"Color"),e(),m(33,"input",17),e(),t(34,"div",6),s(35,X,2,0,"div",7),t(36,"label",18),o(37,"Size"),e(),m(38,"input",19),e()(),t(39,"div",20)(40,"h2",5),o(41,"Price Information"),e(),t(42,"div",6),s(43,$,2,0,"div",7),t(44,"label",21),o(45,"Price"),e(),m(46,"input",22),e(),t(47,"div",6),s(48,J,2,0,"div",7),t(49,"label",23),o(50,"Discount"),e(),m(51,"input",24),e(),t(52,"div",6)(53,"label",25),o(54,"Discount Until"),e(),m(55,"input",26),b(56,"date"),e(),t(57,"div",27)(58,"div",28)(59,"label",29),o(60,"Free shipping"),e(),m(61,"input",30),e(),t(62,"div",28)(63,"label",31),o(64,"Paid shipping"),e(),m(65,"input",32),e()()(),m(66,"app-image-preview",33),t(67,"button",34),C("click",function(){return r.setRandomId()}),o(68,"Submit"),e()()()),a&2){let _;l(5),d("formGroup",r.newProductForm),l(5),d("ngIf",r.isControlInvalid("name")),l(5),d("ngIf",r.isControlInvalid("description")),l(5),d("ngIf",r.isControlInvalid("imgUrl")),l(5),d("ngIf",r.isControlInvalid("shop")),l(5),d("ngIf",r.isControlInvalid("color")),l(5),d("ngIf",r.isControlInvalid("size")),l(8),d("ngIf",r.isControlInvalid("price")),l(5),d("ngIf",r.isControlInvalid("discount")),l(7),d("min",x(56,12,r.todayDate,"yyyy-MM-dd")),l(10),d("value",null),l(),d("imgUrl",(_=r.newProductForm.get("imgUrl"))==null?null:_.value)}},dependencies:[P,I,S,F,N,w,E,k,A,j,M],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}*[_ngcontent-%COMP%]{margin:0;padding:0}body[_ngcontent-%COMP%]{line-height:1.5;-webkit-font-smoothing:antialiased}img[_ngcontent-%COMP%], picture[_ngcontent-%COMP%], video[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{display:block;max-width:100%}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font:inherit}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{overflow-wrap:break-word;margin:0}.heading[_ngcontent-%COMP%], .submit-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.submit-button[_ngcontent-%COMP%]{background-color:#e834ef;border:1px solid black;color:#000;text-decoration:none;cursor:pointer;transition:all .3s}.submit-button[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.submit-button[_ngcontent-%COMP%]:active{background-color:#ffff14}.heading[_ngcontent-%COMP%]{height:100px}.heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:400;font-size:2rem;position:relative;width:fit-content}.heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";width:50%;height:30px;border-bottom:4px solid hsl(298,85%,57%);position:absolute;top:13px;left:27%}.container[_ngcontent-%COMP%]{max-width:90vw;margin:0 auto}.box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.warning[_ngcontent-%COMP%]{color:red;font-size:1.15rem;padding:5px 0}@keyframes _ngcontent-%COMP%_appearOpacity{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_appearHeading{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes _ngcontent-%COMP%_appearText{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.75fr 1.25fr;grid-template-rows:repeat(2,auto);grid-gap:20px;padding:20px 0}.form__heading[_ngcontent-%COMP%]{font-size:1.25rem}.form__details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px;padding:20px;border-radius:30px;border:1px solid hsl(0,0%,74%);background-color:#f2f2f2;grid-row:span 2;height:fit-content}.form__price[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px;padding:20px;border-radius:30px;border:1px solid hsl(0,0%,74%);background-color:#f2f2f2;height:fit-content}.form__input_radio[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.form__label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:1.1rem}.form__field[_ngcontent-%COMP%]{width:100%;height:30px;padding:10px;border:1px solid black;border-radius:30px;outline:none;transition:all .3s}.form__field[_ngcontent-%COMP%]:hover{transform:translatey(-3px)}.form__field[_ngcontent-%COMP%]:focus{box-shadow:3px 3px 5px #e834ef}.form__field.form__field_textarea[_ngcontent-%COMP%]{height:auto}.form__field.form__field_radio[_ngcontent-%COMP%]{appearance:none;width:30px;height:30px;border:1px solid black;border-radius:50%;outline:none;transition:all .3s;cursor:pointer}.form__field.form__field_radio[_ngcontent-%COMP%]:checked{border:5px solid hsl(298,85%,57%)}.form__field.form__field_radio[_ngcontent-%COMP%]:hover{transform:none}.form__field.form__field_radio[_ngcontent-%COMP%]:focus{box-shadow:none}.form[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex-direction:column}app-image-preview[_ngcontent-%COMP%]{grid-column-start:2}.submit-button[_ngcontent-%COMP%]{width:210px;height:30px;border-radius:30px;grid-column:span 2;margin:0 auto}@media (max-width: 767px){.form[_ngcontent-%COMP%]{grid-template-rows:auto}.form__details[_ngcontent-%COMP%], .form__price[_ngcontent-%COMP%]{grid-column:span 2}app-image-preview[_ngcontent-%COMP%]{grid-column-start:1;grid-column:span 2}}']});let i=n;return i})();var K=[{path:"",component:Y}],q=(()=>{let n=class n{};n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=g({type:n}),n.\u0275inj=u({imports:[f.forChild(K),f]});let i=n;return i})();var ge=(()=>{let n=class n{};n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=g({type:n}),n.\u0275inj=u({imports:[y,T,f,q,U]});let i=n;return i})();export{ge as AddNewProductModule};
